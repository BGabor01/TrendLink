{% extends 'base.html' %}
{% load static %}
{% block title %}Profile{% endblock %}
{% block extra_head %}
<link rel="stylesheet" href="{% static 'user/css/profile.css' %}">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="{% static 'user/js/profile.js' %}"
defer
data-current-user-id="{{ user.id }}"
data-connect-url="{% url 'send-connectionreq-api' %}"
data-retrieve-profile-url="{% url 'profile' 0 %}"
data-retrieve-profile-api-url="{% url 'profile-retrieve-api' 0 %}"
data-update-profile-url="{% url 'profile-update-api' 0 %}"
data-login-url="{% url 'login' %}"
></script>
{% endblock %}
{% block content %}
    <div class="main-content">
    <div class="profile-container">
        <h1 id="username"></h1>
        <div class="profile-picture">
            <img id="profile-picture" src="" alt="Profile Picture">
        </div>
        <div class="profile-details">
            <p><strong>Username:</strong> <span id="user-username"></span></p>
            <p><strong>Email:</strong> <span id="user-email"></span></p>
            <p><strong>Bio:</strong> <span id="user-bio"></span></p>
            <p><strong>Birth Date:</strong> <span id="user-birth-date"></span></p>
            <button type="button" id="edit-button" style="display:none;" onclick="toggleEditForm()">Edit</button>
            <button type="button" id="connect-button" style="display:none;">Connect</button>
        </div>
        <form id="uploadForm" method="post" enctype="multipart/form-data" style="display:none;">
            {% csrf_token %}
            <input type="file" id="fileInput" name="profile_picture" style="display: none;" required>
            <button type="button" onclick="document.getElementById('fileInput').click();">Upload Profile Picture</button>
        </form>
        <form id="updateForm" method="post" style="display:none;">
            {% csrf_token %}
            <div>
                <label for="id_bio">Bio:</label>
                <textarea id="id_bio" name="bio"></textarea>
            </div>
            <div>
                <label for="id_birth_date">Birth Date:</label>
                <input type="date" id="id_birth_date" name="birth_date">
            </div>
            <button type="submit">Update</button>
        </form>
    </div>
    </div>
{% endblock %}